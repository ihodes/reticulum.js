{
   "fsm":{
      "offCall":{
         "actions":{
            "event":[
               [
                  "ifEqTransitionTo",
                  "onCall",
                  "idle"
               ]
            ]
         }
      },
      "idle":{
         "actions":{
            "event":[
               [
                  "ifEqTransitionTo",
                  "offCall",
                  "offCall"
               ],
               [
                  "ifEqTransitionTo",
                  "acceptRequest",
                  "enRoute"
               ]
            ]
         }
      },
      "enRoute":{
         "actions":{
            "event":[
               [
                  "ifEqTransitionTo",
                  "arrived",
                  "tendingPatient"
               ]
            ],
            "enter":[
                ["message",
                 "omw",
                 "patients$current"]
            ],
            "exit":[
                ["message", 
                 "arrived",
                 "patients$current"]
            ]
         }
      },
      "tendingPatient":{
         "actions":{
            "event":[
               [
                  "ifEqTransitionTo",
                  "doneTending",
                  "idle"
               ]
            ],
            "exit":[
                [
                    "message",
                    "billQueue",
                    "patients$lastTended"
                ],
                [
                    "message",
                    "analytics",
                    "patients$lastTended"
                ]
            ]
         }
      }
   }
}
